[gd_scene load_steps=11 format=2]

[ext_resource path="res://scenes/Player.tscn" type="PackedScene" id=1]
[ext_resource path="res://scripts/PlayerCamera.gd" type="Script" id=2]
[ext_resource path="res://scripts/RoomsManager.gd" type="Script" id=3]
[ext_resource path="res://scenes/SquareRoom.tscn" type="PackedScene" id=4]
[ext_resource path="res://scenes/Fireball.tscn" type="PackedScene" id=5]
[ext_resource path="res://scenes/Mob.tscn" type="PackedScene" id=6]
[ext_resource path="res://scenes/Spikes.tscn" type="PackedScene" id=7]
[ext_resource path="res://scenes/HealthBar.tscn" type="PackedScene" id=8]
[ext_resource path="res://scenes/DungeonSwitch.tscn" type="PackedScene" id=9]
[ext_resource path="res://scenes/DiningSwitch.tscn" type="PackedScene" id=10]

[node name="Main" type="Node"]

[node name="RoomsRoot" type="Spatial" parent="."]

[node name="RoomsManager" type="RoomManager" parent="RoomsRoot"]
roomlist = NodePath("RoomsList")
script = ExtResource( 3 )

[node name="RoomsList" type="Spatial" parent="RoomsRoot/RoomsManager"]

[node name="FOYER" parent="RoomsRoot/RoomsManager/RoomsList" instance=ExtResource( 4 )]
south_open = false
west_open = false

[node name="OmniLight" type="OmniLight" parent="RoomsRoot/RoomsManager/RoomsList/FOYER"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 50, 0 )
include_in_bound = false
light_energy = 1.5
shadow_enabled = true
omni_range = 100.0
omni_attenuation = 0.025
omni_shadow_mode = 0

[node name="Spikes" parent="RoomsRoot/RoomsManager/RoomsList/FOYER" instance=ExtResource( 7 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.2, 0 )

[node name="Mob" parent="RoomsRoot/RoomsManager/RoomsList/FOYER" instance=ExtResource( 6 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.5, -25 )

[node name="DUNGEON 1" parent="RoomsRoot/RoomsManager/RoomsList" instance=ExtResource( 4 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -100, 0, 0 )
south_open = false
north_open = false

[node name="OmniLight" type="OmniLight" parent="RoomsRoot/RoomsManager/RoomsList/DUNGEON 1"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 50, 0 )
include_in_bound = false
light_energy = 1.5
shadow_enabled = true
omni_range = 100.0
omni_attenuation = 0.025
omni_shadow_mode = 0

[node name="DUNGEON 2" parent="RoomsRoot/RoomsManager/RoomsList" instance=ExtResource( 4 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -200, 0, 0 )
south_open = false
west_open = false

[node name="OmniLight" type="OmniLight" parent="RoomsRoot/RoomsManager/RoomsList/DUNGEON 2"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 50, 0 )
include_in_bound = false
light_energy = 1.5
shadow_enabled = true
omni_range = 100.0
omni_attenuation = 0.025
omni_shadow_mode = 0

[node name="DUNGEON 3" parent="RoomsRoot/RoomsManager/RoomsList" instance=ExtResource( 4 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -200, 0, -100 )
west_open = false
north_open = false

[node name="OmniLight" type="OmniLight" parent="RoomsRoot/RoomsManager/RoomsList/DUNGEON 3"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 50, 0 )
include_in_bound = false
light_energy = 1.5
shadow_enabled = true
omni_range = 100.0
omni_attenuation = 0.025
omni_shadow_mode = 0

[node name="DUNGEON 4" parent="RoomsRoot/RoomsManager/RoomsList" instance=ExtResource( 4 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -100, 0, -100 )
south_open = false
north_open = false

[node name="OmniLight" type="OmniLight" parent="RoomsRoot/RoomsManager/RoomsList/DUNGEON 4"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 50, 0 )
include_in_bound = false
light_energy = 1.5
shadow_enabled = true
omni_range = 100.0
omni_attenuation = 0.025
omni_shadow_mode = 0

[node name="DungeonSwitch" parent="RoomsRoot/RoomsManager/RoomsList/DUNGEON 4" instance=ExtResource( 9 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 25, 0.25, 0 )

[node name="KITCHEN" parent="RoomsRoot/RoomsManager/RoomsList" instance=ExtResource( 4 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 100, 0, 0 )
east_open = false
south_open = false

[node name="OmniLight" type="OmniLight" parent="RoomsRoot/RoomsManager/RoomsList/KITCHEN"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 50, 0 )
include_in_bound = false
light_energy = 1.5
shadow_enabled = true
omni_range = 100.0
omni_attenuation = 0.025
omni_shadow_mode = 0

[node name="Mob1" parent="RoomsRoot/RoomsManager/RoomsList/KITCHEN" instance=ExtResource( 6 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 25, 1.5, 0 )

[node name="DINING ROOM" parent="RoomsRoot/RoomsManager/RoomsList" instance=ExtResource( 4 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 100, 0, -100 )
east_open = false
west_open = false
north_open = false

[node name="OmniLight" type="OmniLight" parent="RoomsRoot/RoomsManager/RoomsList/DINING ROOM"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 50, 0 )
include_in_bound = false
light_energy = 1.5
shadow_enabled = true
omni_range = 100.0
omni_attenuation = 0.025
omni_shadow_mode = 0

[node name="DiningSwitch" parent="RoomsRoot/RoomsManager/RoomsList/DINING ROOM" instance=ExtResource( 10 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -25, 0.25, 0 )

[node name="LIVING ROOM" parent="RoomsRoot/RoomsManager/RoomsList" instance=ExtResource( 4 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -100 )
east_open = false
west_open = false
north_open = false

[node name="OmniLight" type="OmniLight" parent="RoomsRoot/RoomsManager/RoomsList/LIVING ROOM"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 50, 0 )
include_in_bound = false
light_energy = 1.5
shadow_enabled = true
omni_range = 100.0
omni_attenuation = 0.025
omni_shadow_mode = 0

[node name="Mob1" parent="RoomsRoot/RoomsManager/RoomsList/LIVING ROOM" instance=ExtResource( 6 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.5, -25 )

[node name="HALLWAY 1" parent="RoomsRoot/RoomsManager/RoomsList" instance=ExtResource( 4 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -200 )
east_open = false

[node name="OmniLight" type="OmniLight" parent="RoomsRoot/RoomsManager/RoomsList/HALLWAY 1"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 50, 0 )
include_in_bound = false
light_energy = 1.5
shadow_enabled = true
omni_range = 100.0
omni_attenuation = 0.025
omni_shadow_mode = 0

[node name="WINE CELLAR" parent="RoomsRoot/RoomsManager/RoomsList" instance=ExtResource( 4 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -100, 0, -200 )
south_open = false
west_open = false

[node name="OmniLight" type="OmniLight" parent="RoomsRoot/RoomsManager/RoomsList/WINE CELLAR"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 50, 0 )
include_in_bound = false
light_energy = 1.5
shadow_enabled = true
omni_range = 100.0
omni_attenuation = 0.025
omni_shadow_mode = 0

[node name="HALLWAY 2" parent="RoomsRoot/RoomsManager/RoomsList" instance=ExtResource( 4 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -100, 0, -300 )
east_open = false
west_open = false

[node name="OmniLight" type="OmniLight" parent="RoomsRoot/RoomsManager/RoomsList/HALLWAY 2"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 50, 0 )
include_in_bound = false
light_energy = 1.5
shadow_enabled = true
omni_range = 100.0
omni_attenuation = 0.025
omni_shadow_mode = 0

[node name="BATHROOM" parent="RoomsRoot/RoomsManager/RoomsList" instance=ExtResource( 4 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -100, 0, -400 )
west_open = false
north_open = false

[node name="OmniLight" type="OmniLight" parent="RoomsRoot/RoomsManager/RoomsList/BATHROOM"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 50, 0 )
include_in_bound = false
light_energy = 1.5
shadow_enabled = true
omni_range = 100.0
omni_attenuation = 0.025
omni_shadow_mode = 0

[node name="BEDROOM" parent="RoomsRoot/RoomsManager/RoomsList" instance=ExtResource( 4 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -400 )
east_open = false
north_open = false

[node name="OmniLight" type="OmniLight" parent="RoomsRoot/RoomsManager/RoomsList/BEDROOM"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 50, 0 )
include_in_bound = false
light_energy = 1.5
shadow_enabled = true
omni_range = 100.0
omni_attenuation = 0.025
omni_shadow_mode = 0

[node name="STUDY" parent="RoomsRoot/RoomsManager/RoomsList" instance=ExtResource( 4 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -300 )
west_open = false

[node name="OmniLight" type="OmniLight" parent="RoomsRoot/RoomsManager/RoomsList/STUDY"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 50, 0 )
include_in_bound = false
light_energy = 1.5
shadow_enabled = true
omni_range = 100.0
omni_attenuation = 0.025
omni_shadow_mode = 0

[node name="GARDEN" parent="RoomsRoot/RoomsManager/RoomsList" instance=ExtResource( 4 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 100, 0, -300 )
east_open = false
south_open = false

[node name="OmniLight" type="OmniLight" parent="RoomsRoot/RoomsManager/RoomsList/GARDEN"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 50, 0 )
include_in_bound = false
light_energy = 1.5
shadow_enabled = true
omni_range = 100.0
omni_attenuation = 0.025
omni_shadow_mode = 0

[node name="THRONE ROOM" parent="RoomsRoot/RoomsManager/RoomsList" instance=ExtResource( 4 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 100, 0, -400 )
east_open = false
west_open = false
north_open = false

[node name="OmniLight" type="OmniLight" parent="RoomsRoot/RoomsManager/RoomsList/THRONE ROOM"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 50, 0 )
include_in_bound = false
light_energy = 1.5
shadow_enabled = true
omni_range = 100.0
omni_attenuation = 0.025
omni_shadow_mode = 0

[node name="Player" parent="." instance=ExtResource( 1 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.5, 25 )
collision_mask = 30
spell_scene = ExtResource( 5 )

[node name="PlayerCamera" type="Camera" parent="."]
transform = Transform( 1, 0, 0, 0, 0.707107, 0.707107, 0, -0.707107, 0.707107, 0, 0, 0 )
projection = 1
size = 50.0
script = ExtResource( 2 )
offset_y = 37
offset_z = 37
padding = 25

[node name="UI" type="Control" parent="."]
anchor_right = 1.0
anchor_bottom = 1.0

[node name="RoomLabel" type="Label" parent="UI"]
anchor_left = 0.5
anchor_right = 0.5
margin_left = -21.0
margin_top = 2.0
margin_right = 21.0
margin_bottom = 16.0
text = "ROOM"

[node name="HealthLabel" type="Label" parent="UI"]
anchor_left = 0.5
anchor_top = 1.0
anchor_right = 0.5
anchor_bottom = 1.0
margin_left = -398.0
margin_top = -14.0
margin_right = -348.0
text = "HEALTH"

[node name="HealthBar" parent="UI" instance=ExtResource( 8 )]
anchor_left = 0.5
anchor_top = 1.0
anchor_right = 0.5
anchor_bottom = 1.0
margin_left = -344.0
margin_top = -13.0
margin_right = -344.0
margin_bottom = -13.0

[connection signal="new_room_entered" from="Player" to="PlayerCamera" method="_on_Player_new_room_entered"]
